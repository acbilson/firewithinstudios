{{- $darkmodejs := resources.Get "js/darkmode.js" -}}
{{- $navbarjs := resources.Get "js/nav-bar.js" -}}
{{ $diagramjs := resources.Get "js/tag-diagram.js" }}
<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}" dir="ltr" color-mode="{{ .Site.Params.defaultColorMode }}">
{{ partialCached "head.html" . }}
<body class="container">
  {{ partialCached "nav-bar.html" . }}

  <section class="container-full">
  <h1>{{ .Title }}</h1>
  <svg class="diagram-svg" viewbox="0 0 1200 1200"></svg>
  {{ partialCached "foot.html" . }}
  </section>
</body>

<!-- this displays the tags cloud diagram after other scripts load. I've done it this way so that I can use Hugo
to pass along the path to the JSON file. -->
<script>
  document.addEventListener("DOMContentLoaded", function() {
    display_diagram("/network/diagram.json");
  });
</script>
<script src="{{ $diagramjs.Permalink }}"></script>
<script src="{{ $navbarjs.Permalink }}"></script>
<script src="{{ $darkmodejs.Permalink }}"></script>
<script src="https://d3js.org/d3.v5.min.js"></script>
</html>
